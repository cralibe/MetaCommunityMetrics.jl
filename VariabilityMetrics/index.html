<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Variability Metrics Functions · MetaCommunityMetrics Documentation</title><meta name="title" content="Variability Metrics Functions · MetaCommunityMetrics Documentation"/><meta property="og:title" content="Variability Metrics Functions · MetaCommunityMetrics Documentation"/><meta property="twitter:title" content="Variability Metrics Functions · MetaCommunityMetrics Documentation"/><meta name="description" content="Documentation for MetaCommunityMetrics Documentation."/><meta property="og:description" content="Documentation for MetaCommunityMetrics Documentation."/><meta property="twitter:description" content="Documentation for MetaCommunityMetrics Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="MetaCommunityMetrics Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">MetaCommunityMetrics Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../BetaDiversity/">Beta Diverisity Functions</a></li><li><a class="tocitem" href="../DNCI/">Dispersal-Niche Continuum Index (DNCI) Functions</a></li><li><a class="tocitem" href="../NicheOverlapIndex/">Niche Overlap Index Function</a></li><li><a class="tocitem" href="../OccupiedPatchesProportion/">Occupied Patches Proportion Function</a></li><li class="is-active"><a class="tocitem" href>Variability Metrics Functions</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#The-Function"><span>The Function</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../Hypervolume/">Hypervolume Functions</a></li><li><a class="tocitem" href="../Benchmarking/">Benchmarking Julia vs R</a></li><li><a class="tocitem" href="../Acknowledgment/">Acknowledgment</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Variability Metrics Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Variability Metrics Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cralibe/MetaCommunityMetrics.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Variability-Metrics-Functions"><a class="docs-heading-anchor" href="#Variability-Metrics-Functions">Variability Metrics Functions</a><a id="Variability-Metrics-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Variability-Metrics-Functions" title="Permalink"></a></h1><p>The variability metrics functions in <code>MetaCommunityMetrics</code> are designed to capture changes in dispersal and density-dependent biotic interactions by investigating temporal variability and synchrony across spatial scales and organizational levels within a metacommunity. These functions are based on the work of Wang et al. (2019), which provides a framework for quantifying variability at different scales and contexts within a community.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>In <code>MetaCommunityMetrics</code>, the <code>CV_meta_simple</code> function is directly adapted from the R function <code>var.partition</code> in Wang et al. (2019). This function is designed with computational efficiency in mind, particularly for large datasets, by avoiding the calculation of all covariances between species. This approach ensures faster performance while still providing valuable insights into variability across different scales within a metacommunity.</p><p>In contrast, the <code>CV_meta function</code> extends the analysis by including the calculation of all covariances between species, offering a more detailed and comprehensive examination of variability. This approach captures interactions between species that may be overlooked by more streamlined methods. While the <code>CV_meta</code> function provides a richer analysis, the <code>CV_meta_simple</code> function remains a valuable tool when computational efficiency is a priority.</p><p>These metrics are designed to quantify variability at different scales and contexts within the community:</p><ul><li>Local-scale average species variability (<code>CV_s_l</code>)</li><li>Regional-scale average species variability (<code>CV_s_r</code>)</li><li>Local-scale average community variability (<code>CV_c_l</code>)</li><li>Regional-scale community variability (<code>CV_c_r</code>)</li></ul><p>The variability metrics are calculated as follows:</p><p>The variability metrics <code>CV_s_l</code>, <code>CV_s_r</code>, <code>CV_c_l</code>, and <code>CV_c_r</code> are set to zero whenever the mean abundance equals zero at any combination of spatial scales (a patch/all patches) and species number (a species/the whole community). This approach allows us to assess the impact of spatial scale on variability and to understand how different factors influence community dynamics across scales.</p><h2 id="The-Function"><a class="docs-heading-anchor" href="#The-Function">The Function</a><a id="The-Function-1"></a><a class="docs-heading-anchor-permalink" href="#The-Function" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaCommunityMetrics.CV_meta" href="#MetaCommunityMetrics.CV_meta"><code>MetaCommunityMetrics.CV_meta</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CV_meta(abundance::AbstractVector, time::AbstractVector, patch::Union{AbstractVector, String}, species::Union{AbstractVector, String}) -&gt; DataFrame</code></pre><p>Calculates various coefficients of variation (CV) for species and community biomass at both local and regional scales within a metacommunity.</p><p>Arguments</p><ul><li><code>abundance::AbstractVector</code>: A vector representing the abundance of species.</li><li><code>time::AbstractVector</code>: A vector representing the time points at which the abundance measurements were taken.</li><li><code>patch::Union{AbstractVector, String}</code>: A vector or single value representing the patch or plot identifier.</li><li><code>species::Union{AbstractVector, String}</code>: A vector or single value representing the species identifier.</li></ul><p>Returns</p><ul><li><code>DataFrame</code>: A DataFrame containing the following columns:<ul><li><code>CV_s_l</code>: Local-scale average species variability.</li><li><code>CV_s_r</code>: Regional-scale average species variability.</li><li><code>CV_c_l</code>: Local-scale average community variability.</li><li><code>CV_c_r</code>: Regional-scale community variability.</li></ul></li></ul><p>Details This function calculates the coefficients of variation (CV) for species and community biomass at both local and regional scales. The calculation involves several steps:</p><ol><li><strong>Reorganization of Data:</strong> The input data is organized into a DataFrame with columns for abundance, time, plot, and species.</li><li><strong>Mean Calculations:</strong> Temporal mean species abundance is calculated for each species in each patch, as well as the overall temporal mean biomass.</li><li><strong>Temporal Variance Calculations:</strong> Temporal variance is calculated for each species within patches, for species across patches, for the community biomass within patches, and for the overall metacommunity biomass.</li><li><strong>CV Calculations:</strong> The coefficients of variation are calculated for species and community biomass at both local and regional scales.</li><li><strong>Output:</strong> The results are returned in a DataFrame summarizing the CVs for local and regional scales.</li></ol><p>Example</p><pre><code class="language- hljs">julia&gt; using MetaCommunityMetrics, Pipe

julia&gt; df = @pipe load_sample_data() |&gt;
                          filter(row -&gt; row[:Sampling_date_order] &lt; 20, _)
6764×10 DataFrame
  Row │ Year   Month  Day    Sampling_date_order  plot   Species  Abundance  Presence  Latitude  Longitude 
      │ Int64  Int64  Int64  Int64                Int64  String3  Int64      Int64     Float64   Float64   
──────┼────────────────────────────────────────────────────────────────────────────────────────────────────
    1 │  2010      1     16                    1      1  BA               0         0      35.0     -110.0
    2 │  2010      1     16                    1      2  BA               0         0      35.0     -109.5
    3 │  2010      1     16                    1      8  BA               0         0      35.5     -109.5
    4 │  2010      1     16                    1      9  BA               0         0      35.5     -109.0
    5 │  2010      1     16                    1     11  BA               0         0      35.5     -108.0
  ⋮   │   ⋮      ⋮      ⋮             ⋮             ⋮       ⋮         ⋮         ⋮         ⋮          ⋮
 6760 │  2012      1     21                   19     21  SH               0         0      36.5     -109.0
 6761 │  2012      1     21                   19      5  SH               0         0      35.0     -108.0
 6762 │  2012      1     21                   19      7  SH               0         0      35.5     -110.0
 6763 │  2012      1     21                   19     23  SH               0         0      36.5     -108.0
 6764 │  2012      1     21                   19     24  SH               0         0      36.5     -107.5
                                                                                          6754 rows omitted
                                                                                          
julia&gt; CV_summary_df = CV_meta(df.Abundance, df.Sampling_date_order, df.plot, df.Species)
1×4 DataFrame
 Row │ CV_s_l   CV_s_r    CV_c_l    CV_c_r   
     │ Float64  Float64   Float64   Float64  
─────┼───────────────────────────────────────
   1 │ 1.05607  0.813324  0.656184  0.537299</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cralibe/MetaCommunityMetrics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaCommunityMetrics.CV_meta_simple" href="#MetaCommunityMetrics.CV_meta_simple"><code>MetaCommunityMetrics.CV_meta_simple</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CV_meta_simple(abundance::AbstractVector, time::AbstractVector, patch::Union{AbstractVector, String}, species::Union{AbstractVector, String}) -&gt; DataFrame</code></pre><p>Calculates coefficients of variation (CV) for species and community biomass at both local and regional scales within a metacommunity, using a simpler approach optimized for handling larger datasets.</p><p>Arguments</p><ul><li><code>abundance::AbstractVector</code>: A vector representing the abundance of species.</li><li><code>time::AbstractVector</code>: A vector representing the time points at which the abundance measurements were taken.</li><li><code>patch::Union{AbstractVector, String}</code>: A vector or single value representing the patch or plot identifier.</li><li><code>species::Union{AbstractVector, String}</code>: A vector or single value representing the species identifier.</li></ul><p>Returns</p><ul><li><code>DataFrame</code>: A DataFrame containing the following columns:<ul><li><code>CV_s_l</code>: Local-scale average species variability.</li><li><code>CV_s_r</code>: Regional-scale average species variability.</li><li><code>CV_c_l</code>: Local-scale average community variability.</li><li><code>CV_c_r</code>: Regional-scale community variability.</li></ul></li></ul><p>Details This function is a simplified version of the <code>CV_meta</code> function, designed to efficiently handle larger datasets by avoiding complex covariance calculations. The steps include:</p><ol><li><strong>Reorganization of Data:</strong> The input data is organized into a DataFrame with columns for abundance, time, plot, and species, and then transformed into a 3D abundance matrix.</li><li><strong>Total Abundance Calculations:</strong> The function calculates total abundances for species across time, within each patch, and for the entire metacommunity.</li><li><strong>Standard Deviation (SD) Calculations:</strong> Temporal standard deviations of abundance are computed for the entire metacommunity, each patch, and each species.</li><li><strong>CV Calculations:</strong> The coefficients of variation are calculated for species and community biomass at both local and regional scales.</li><li><strong>Output:</strong> The results are returned in a DataFrame summarizing the CVs for local and regional scales.</li></ol><p>Example</p><pre><code class="language- hljs">julia&gt; using MetaCommunityMetrics, Pipe

julia&gt; df = @pipe load_sample_data() |&gt;
                          filter(row -&gt; row[:Sampling_date_order] &lt; 20, _)
6764×10 DataFrame
  Row │ Year   Month  Day    Sampling_date_order  plot   Species  Abundance  Presence  Latitude  Longitude 
      │ Int64  Int64  Int64  Int64                Int64  String3  Int64      Int64     Float64   Float64   
──────┼────────────────────────────────────────────────────────────────────────────────────────────────────
    1 │  2010      1     16                    1      1  BA               0         0      35.0     -110.0
    2 │  2010      1     16                    1      2  BA               0         0      35.0     -109.5
    3 │  2010      1     16                    1      8  BA               0         0      35.5     -109.5
    4 │  2010      1     16                    1      9  BA               0         0      35.5     -109.0
    5 │  2010      1     16                    1     11  BA               0         0      35.5     -108.0
  ⋮   │   ⋮      ⋮      ⋮             ⋮             ⋮       ⋮         ⋮         ⋮         ⋮          ⋮
 6760 │  2012      1     21                   19     21  SH               0         0      36.5     -109.0
 6761 │  2012      1     21                   19      5  SH               0         0      35.0     -108.0
 6762 │  2012      1     21                   19      7  SH               0         0      35.5     -110.0
 6763 │  2012      1     21                   19     23  SH               0         0      36.5     -108.0
 6764 │  2012      1     21                   19     24  SH               0         0      36.5     -107.5
                                                                                          6754 rows omitted

julia&gt; CV_summary_df = CV_meta_simple(df.Abundance, df.Sampling_date_order, df.plot, df.Species)
1×4 DataFrame
 Row │ CV_s_l   CV_s_r    CV_c_l    CV_c_r   
     │ Float64  Float64   Float64   Float64  
─────┼───────────────────────────────────────
   1 │ 1.20808  0.918862  0.801216  0.665082</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cralibe/MetaCommunityMetrics.jl">source</a></section></article><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><ul><li>Wang, S., Lamy, T., Hallett, L. M. &amp; Loreau, M. Stability and synchrony across ecological hierarchies in heterogeneous metacommunities: linking theory to data. Ecography 42, 1200-1211 (2019). https://doi.org:https://doi.org/10.1111/ecog.04290</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../OccupiedPatchesProportion/">« Occupied Patches Proportion Function</a><a class="docs-footer-nextpage" href="../Hypervolume/">Hypervolume Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 29 October 2024 20:02">Tuesday 29 October 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
